{"version":3,"file":"PluginContainer.js","names":["Object","defineProperty","exports","value","default","_react","_interopRequireDefault","require","_propTypes","_react2","_PluginContainerIframe","_PluginContainerDirect","_constants","_shapes","_jsxRuntime","_excluded","e","__esModule","ownKeys","r","t","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","_objectWithoutProperties","_objectWithoutPropertiesLoose","n","indexOf","propertyIsEnumerable","hasOwnProperty","PluginContainer","_ref","config","slotOptions","slotErrorFallbackComponent","props","renderer","type","IFRAME_PLUGIN","jsx","DIRECT_PLUGIN","finalFallback","errorFallbackComponent","ErrorBoundary","fallbackComponent","children","_default","propTypes","PropTypes","shape","pluginConfigShape","slotOptionsShape","node"],"sources":["../../src/plugins/PluginContainer.jsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { ErrorBoundary } from '@edx/frontend-platform/react';\n\nimport PluginContainerIframe from './PluginContainerIframe';\nimport PluginContainerDirect from './PluginContainerDirect';\n\nimport {\n  IFRAME_PLUGIN,\n  DIRECT_PLUGIN,\n} from './data/constants';\nimport { pluginConfigShape, slotOptionsShape } from './data/shapes';\n\nfunction PluginContainer({\n  config = null,\n  slotOptions = {},\n  slotErrorFallbackComponent,\n  ...props\n}) {\n  if (!config) {\n    return null;\n  }\n\n  // this will allow for future plugin types to be inserted in the PluginErrorBoundary\n  let renderer = null;\n  switch (config.type) {\n    case IFRAME_PLUGIN:\n      renderer = (\n        <PluginContainerIframe\n          config={config}\n          {...props}\n        />\n      );\n      break;\n    case DIRECT_PLUGIN:\n      renderer = (\n        <PluginContainerDirect\n          config={config}\n          slotOptions={slotOptions}\n          {...props}\n        />\n      );\n      break;\n    default:\n      break;\n  }\n\n  // Retrieve a fallback component from JS config if one exists\n  // Otherwise, use the fallback component specific to the PluginSlot if one exists\n  // Otherwise, default to fallback from frontend-platform's ErrorBoundary\n  const finalFallback = config.errorFallbackComponent || slotErrorFallbackComponent;\n\n  return (\n    <ErrorBoundary fallbackComponent={finalFallback}>\n      {renderer}\n    </ErrorBoundary>\n  );\n}\n\nexport default PluginContainer;\n\nPluginContainer.propTypes = {\n  /** Configuration for the Plugin in this container â€” i.e pluginSlot[id].example_plugin */\n  config: PropTypes.shape(pluginConfigShape),\n  /** Options passed to the PluginSlot */\n  slotOptions: PropTypes.shape(slotOptionsShape),\n  /** Error fallback component for the PluginSlot */\n  slotErrorFallbackComponent: PropTypes.node,\n};\n"],"mappings":";AAAA,YAAY;;AAACA,MAAA,CAAAC,cAAA,CAAAC,OAAA;EAAAC,KAAA;AAAA;AAAAD,OAAA,CAAAE,OAAA;AAEb,IAAAC,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,OAAA,GAAAF,OAAA;AAEA,IAAAG,sBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,sBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAEA,IAAAK,UAAA,GAAAL,OAAA;AAIA,IAAAM,OAAA,GAAAN,OAAA;AAAoE,IAAAO,WAAA,GAAAP,OAAA;AAAA,MAAAQ,SAAA;AAAA,SAAAT,uBAAAU,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAZ,OAAA,EAAAY,CAAA;AAAA,SAAAE,QAAAF,CAAA,EAAAG,CAAA,QAAAC,CAAA,GAAApB,MAAA,CAAAqB,IAAA,CAAAL,CAAA,OAAAhB,MAAA,CAAAsB,qBAAA,QAAAC,CAAA,GAAAvB,MAAA,CAAAsB,qBAAA,CAAAN,CAAA,GAAAG,CAAA,KAAAI,CAAA,GAAAA,CAAA,CAAAC,MAAA,WAAAL,CAAA,WAAAnB,MAAA,CAAAyB,wBAAA,CAAAT,CAAA,EAAAG,CAAA,EAAAO,UAAA,OAAAN,CAAA,CAAAO,IAAA,CAAAC,KAAA,CAAAR,CAAA,EAAAG,CAAA,YAAAH,CAAA;AAAA,SAAAS,cAAAb,CAAA,aAAAG,CAAA,MAAAA,CAAA,GAAAW,SAAA,CAAAC,MAAA,EAAAZ,CAAA,UAAAC,CAAA,WAAAU,SAAA,CAAAX,CAAA,IAAAW,SAAA,CAAAX,CAAA,QAAAA,CAAA,OAAAD,OAAA,CAAAlB,MAAA,CAAAoB,CAAA,OAAAY,OAAA,WAAAb,CAAA,IAAAc,eAAA,CAAAjB,CAAA,EAAAG,CAAA,EAAAC,CAAA,CAAAD,CAAA,SAAAnB,MAAA,CAAAkC,yBAAA,GAAAlC,MAAA,CAAAmC,gBAAA,CAAAnB,CAAA,EAAAhB,MAAA,CAAAkC,yBAAA,CAAAd,CAAA,KAAAF,OAAA,CAAAlB,MAAA,CAAAoB,CAAA,GAAAY,OAAA,WAAAb,CAAA,IAAAnB,MAAA,CAAAC,cAAA,CAAAe,CAAA,EAAAG,CAAA,EAAAnB,MAAA,CAAAyB,wBAAA,CAAAL,CAAA,EAAAD,CAAA,iBAAAH,CAAA;AAAA,SAAAiB,gBAAAjB,CAAA,EAAAG,CAAA,EAAAC,CAAA,YAAAD,CAAA,GAAAiB,cAAA,CAAAjB,CAAA,MAAAH,CAAA,GAAAhB,MAAA,CAAAC,cAAA,CAAAe,CAAA,EAAAG,CAAA,IAAAhB,KAAA,EAAAiB,CAAA,EAAAM,UAAA,MAAAW,YAAA,MAAAC,QAAA,UAAAtB,CAAA,CAAAG,CAAA,IAAAC,CAAA,EAAAJ,CAAA;AAAA,SAAAoB,eAAAhB,CAAA,QAAAmB,CAAA,GAAAC,YAAA,CAAApB,CAAA,uCAAAmB,CAAA,GAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAApB,CAAA,EAAAD,CAAA,2BAAAC,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAJ,CAAA,GAAAI,CAAA,CAAAqB,MAAA,CAAAC,WAAA,kBAAA1B,CAAA,QAAAuB,CAAA,GAAAvB,CAAA,CAAA2B,IAAA,CAAAvB,CAAA,EAAAD,CAAA,uCAAAoB,CAAA,SAAAA,CAAA,YAAAK,SAAA,yEAAAzB,CAAA,GAAA0B,MAAA,GAAAC,MAAA,EAAA1B,CAAA;AAAA,SAAA2B,yBAAA/B,CAAA,EAAAI,CAAA,gBAAAJ,CAAA,iBAAAO,CAAA,EAAAJ,CAAA,EAAAoB,CAAA,GAAAS,6BAAA,CAAAhC,CAAA,EAAAI,CAAA,OAAApB,MAAA,CAAAsB,qBAAA,QAAA2B,CAAA,GAAAjD,MAAA,CAAAsB,qBAAA,CAAAN,CAAA,QAAAG,CAAA,MAAAA,CAAA,GAAA8B,CAAA,CAAAlB,MAAA,EAAAZ,CAAA,IAAAI,CAAA,GAAA0B,CAAA,CAAA9B,CAAA,UAAAC,CAAA,CAAA8B,OAAA,CAAA3B,CAAA,QAAA4B,oBAAA,CAAAR,IAAA,CAAA3B,CAAA,EAAAO,CAAA,MAAAgB,CAAA,CAAAhB,CAAA,IAAAP,CAAA,CAAAO,CAAA,aAAAgB,CAAA;AAAA,SAAAS,8BAAA7B,CAAA,EAAAH,CAAA,gBAAAG,CAAA,iBAAAC,CAAA,gBAAA6B,CAAA,IAAA9B,CAAA,SAAAiC,cAAA,CAAAT,IAAA,CAAAxB,CAAA,EAAA8B,CAAA,gBAAAjC,CAAA,CAAAkC,OAAA,CAAAD,CAAA,aAAA7B,CAAA,CAAA6B,CAAA,IAAA9B,CAAA,CAAA8B,CAAA,YAAA7B,CAAA;AAEpE,SAASiC,eAAeA,CAAAC,IAAA,EAKrB;EAAA,IALsB;MACvBC,MAAM,GAAG,IAAI;MACbC,WAAW,GAAG,CAAC,CAAC;MAChBC;IAEF,CAAC,GAAAH,IAAA;IADII,KAAK,GAAAX,wBAAA,CAAAO,IAAA,EAAAvC,SAAA;EAER,IAAI,CAACwC,MAAM,EAAE;IACX,OAAO,IAAI;EACb;;EAEA;EACA,IAAII,QAAQ,GAAG,IAAI;EACnB,QAAQJ,MAAM,CAACK,IAAI;IACjB,KAAKC,wBAAa;MAChBF,QAAQ,gBACN,IAAA7C,WAAA,CAAAgD,GAAA,EAACpD,sBAAA,CAAAN,OAAqB,EAAAyB,aAAA;QACpB0B,MAAM,EAAEA;MAAO,GACXG,KAAK,CACV,CACF;MACD;IACF,KAAKK,wBAAa;MAChBJ,QAAQ,gBACN,IAAA7C,WAAA,CAAAgD,GAAA,EAACnD,sBAAA,CAAAP,OAAqB,EAAAyB,aAAA;QACpB0B,MAAM,EAAEA,MAAO;QACfC,WAAW,EAAEA;MAAY,GACrBE,KAAK,CACV,CACF;MACD;IACF;MACE;EACJ;;EAEA;EACA;EACA;EACA,MAAMM,aAAa,GAAGT,MAAM,CAACU,sBAAsB,IAAIR,0BAA0B;EAEjF,oBACE,IAAA3C,WAAA,CAAAgD,GAAA,EAACrD,OAAA,CAAAyD,aAAa;IAACC,iBAAiB,EAAEH,aAAc;IAAAI,QAAA,EAC7CT;EAAQ,CACI,CAAC;AAEpB;AAAC,IAAAU,QAAA,GAAAnE,OAAA,CAAAE,OAAA,GAEciD,eAAe;AAE9BA,eAAe,CAACiB,SAAS,GAAG;EAC1B;EACAf,MAAM,EAAEgB,kBAAS,CAACC,KAAK,CAACC,yBAAiB,CAAC;EAC1C;EACAjB,WAAW,EAAEe,kBAAS,CAACC,KAAK,CAACE,wBAAgB,CAAC;EAC9C;EACAjB,0BAA0B,EAAEc,kBAAS,CAACI;AACxC,CAAC","ignoreList":[]}